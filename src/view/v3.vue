<template>
<div class="body">
    ere
<!--动效显示-->
<div class="flasheffectoutbox">

<div style="width: 1000px; height: 500px; position: relative">
    <div class="line2 line"></div>
    <div class="line3 line"></div>
    <div class="line4 line"></div>
    <div class="line5 line"></div>
    <div class="line6 line"></div>

    <!--主动效-->
    <div class="maineffectoutbox circleeffectclass">
        <a href="http://www.txgis.com" target="_blank">
        <img class="effectposition maindataeffect" src="../img/maindataeffect.png">
        <div class="effectposition acrossremindeffectout" style=" width: 76px; height: 76px; margin: 9px;">
            <div class="acrossremindeffectin" style="width: 68px; height: 68px; margin: 4px;"></div>
        </div>
        <img class="effectposition maindataspecialeffect" src="../img/maindataspecialeffect.png">
        <img class="effectposition acrossremindeffecindex" src="../img/maindataicon.png">
        <span class="stagetitle">票房</span>
        </a>
    </div>
    <!--卫星动效-->
    <div class="circleeffectclass aroundfunctioneffect" style="left: 254px;top: 135px;">
        <img class="effectposition arounddataeffect02" src="../img/aroundeffect.png">
        <div class="effectposition acrossremindeffectout acrossremindeffectoutard">
            <div class="acrossremindeffectin acrossremindeffectinard"></div>
        </div>
        <img class="effectposition acrossremindeffecindex" src="../img/xingzhengshenpi.png">
        <span class="stagetitle stagearoundtitle">评分</span>
    </div>

    <div class="circleeffectclass aroundfunctioneffect" style="left: 190px;bottom: 89px;">
        <img class="effectposition arounddataeffect01" src="../img/aroundeffect.png">
        <div class="effectposition acrossremindeffectout acrossremindeffectoutard">
            <div class="acrossremindeffectin acrossremindeffectinard"></div>
        </div>
        <img class="effectposition acrossremindeffecindex" src="../img/baixingpaiAPP.png">
        <span class="stagetitle stagearoundtitle">票数</span>
    </div>

    <div class="circleeffectclass aroundfunctioneffect" style="right: 405px;bottom: 53px;">
        <img class="effectposition arounddataeffect02" src="../img/aroundeffect.png">
        <div class="effectposition acrossremindeffectout acrossremindeffectoutard">
            <div class="acrossremindeffectin acrossremindeffectinard"></div>
        </div>
        <img class="effectposition acrossremindeffecindex" src="../img/zhatuyunshu.png">
        <span class="stagetitle stagearoundtitle">时长</span>
    </div>

    <div class="circleeffectclass aroundfunctioneffect" style="right: 243px;bottom: 165px;">
        <img class="effectposition arounddataeffect01" src="../img/aroundeffect.png">
        <div class="effectposition acrossremindeffectout acrossremindeffectoutard">
            <div class="acrossremindeffectin acrossremindeffectinard"></div>
        </div>
        <img class="effectposition acrossremindeffecindex" src="../img/12319rexian.png">
        <span class="stagetitle stagearoundtitle">年份</span>
    </div>

    <div class="circleeffectclass aroundfunctioneffect" style="right: 294px;top: 79px;">
        <img class="effectposition arounddataeffect03" src="../img/aroundeffect.png">
        <div class="effectposition acrossremindeffectout acrossremindeffectoutard">
            <div class="acrossremindeffectin acrossremindeffectinard"></div>
        </div>
        <img class="effectposition acrossremindeffecindex" src="../img/zonghezhifa.png">
        <span class="stagetitle stagearoundtitle">类型</span>
    </div>

    <div class="circleeffectclass decarround01" style="top: 218px;left: 92px;">
        <div class="acrossremindeffectin decarroundin01" style=" "></div>
    </div>
    <div class="circleeffectclass decarround01" style="top: 197px;right: 163px;">
        <div class="acrossremindeffectin decarroundin01" style=" "></div>
    </div>
    <div class="circleeffectclass decarround02" style="top: 99px;right: 93px;">
        <div class="acrossremindeffectin decarroundin02" style=" "></div>
    </div>





</div>
</div>



<div class="fltoutbox leftbox" style="margin-top: 50px;">
    <div class="mbox" id="lefttop"></div>
        <div class="fltdecarround fltdecarroundleft fltdecarroundtop"></div>
        <div class="fltdecarround fltdecarroundtop fltdecarroundright "></div>
        <div class="fltdecarround fltdecarroundleft fltdecarroundbottom"></div>
        <div class="fltdecarround fltdecarroundbottom fltdecarroundright "></div>
    </div>
    
<div class="fltoutbox leftboxbutton" style="margin-top: 50px;">
        <div class="mbox" id="leftbutton"></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundtop"></div>
    <div class="fltdecarround fltdecarroundtop fltdecarroundright "></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundbottom"></div>
    <div class="fltdecarround fltdecarroundbottom fltdecarroundright "></div>
</div>

<div class="fltoutbox rightbox" style="margin-top: 50px;">
    <div class="mbox" id="righttop"></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundtop"></div>
    <div class="fltdecarround fltdecarroundtop fltdecarroundright "></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundbottom"></div>
    <div class="fltdecarround fltdecarroundbottom fltdecarroundright "></div>
</div>


<div class="fltoutbox rightboxbutton" style="margin-top: 50px;">
    <div class="mbox" id="rightbutton"></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundtop"></div>
    <div class="fltdecarround fltdecarroundtop fltdecarroundright "></div>
    <div class="fltdecarround fltdecarroundleft fltdecarroundbottom"></div>
    <div class="fltdecarround fltdecarroundbottom fltdecarroundright "></div>
</div>
</div>


</template>

<script>
//这里可以导入其他文件（比如：组件，工具 js，第三方插件 js，json文件，图片文件等等）
//例如：import 《组件名称》 from '《组件路径》';
import * as echarts from "echarts";
import ecStat from 'echarts-stat';
export default {
//import 引入的组件需要注入到对象中才能使用
components: {},
props: {},
data() {
//这里存放数据
return {
    centers:[],
    listvp:[],
    listpp:[],
    listfp:[],
    listdp:[],
    listtp:[],
    cs:[[4,5,'tt'],[5,7,'pp']]
};
},
//计算属性 类似于 data 概念
computed: {},
//监控 data 中的数据变化
watch: {},
//方法集合
methods: {
    echart2(){
      var chartDom = document.getElementById('leftbutton');
      var myChart = echarts.init(chartDom);
      var option;
      

      option = {
        // dataset: this.centers,
        title: {
          text: 'Votes and gross',
          
          textStyle: {
        fontWeight: 'normal',
        color: '#fff',
    }
      },
        tooltip: {
        trigger:'item',
        formatter:(params) => {  // params就是数据，这里可以打印一下看看
            // return 出去什么，鼠标移入就显示什么,marker就是提示前面蓝色的圆点
            return `${params.data[2]}</br>${params.marker}横坐标:${params.data[0]}</br>纵坐标:${params.data[1]}`
        }
    },
        xAxis: {
          scale: true
        },
        yAxis: {
          scale: true,

        },
        series: [
          {
            type: 'effectScatter',
            symbolSize: 20,


            data: [
              [80000, 105.2],
              [153.4, 42]
            ]
          },
          
          {
            type: 'scatter',
            // prettier-ignore
            label: {
            // show:true,
            position:"right",
            formatter: '{@value}'   // 点旁边显示label，这里使用name: '横坐标'这样写也可以，鼠标移入出现提示。
              },
            data: this.listvp,
            
            itemStyle: {
              normal: {
                  color:function(params){  //根据不同数据显示不同颜色的标记
                  // console.log("------",params.data[2])
                      var ii=0
                      // var cen=this.centers;
                      // console.log(cen)
                      if (params.data[2]=='0') {
                          return '#fff';
                      } else if(params.data[2]=='1'){
                          return '#00ff00';
                      }else{
                        return 'rgb(17, 74, 180)';
                      }
                  },
                  // color: '#f4e925',
                  shadowBlur: 10,
                  shadowColor: '#333'
              }
            },

          },
          
        ]
      };

      option && myChart.setOption(option);
          },
    echart3(){
      var chartDom = document.getElementById('rightbutton');
      var myChart = echarts.init(chartDom);
      var option;
      

      option = {
        title: {
          text: 'Time and gross',
          
          textStyle: {
        fontWeight: 'normal',
        color: '#fff',
    }
      },

        // dataset: this.centers,
        tooltip: {
        trigger:'item',
        formatter:(params) => {  // params就是数据，这里可以打印一下看看
            // return 出去什么，鼠标移入就显示什么,marker就是提示前面蓝色的圆点
            return `${params.data[2]}</br>${params.marker}横坐标:${params.data[0]}</br>纵坐标:${params.data[1]}`
        }
    },
        xAxis: {
          scale: true,
        },
        yAxis: {
          scale: true,

        },
        series: [
          {
            type: 'effectScatter',
            symbolSize: 20,


            data: [
              // [80000, 105.2],
              // [153.4, 42]
            ]
          },
          
          {
            type: 'scatter',
            // prettier-ignore
            label: {
            // show:true,
            position:"right",
            formatter: '{@value}'   // 点旁边显示label，这里使用name: '横坐标'这样写也可以，鼠标移入出现提示。
              },
            data: this.listtp,
            
            itemStyle: {
              normal: {
                  color:function(params){  //根据不同数据显示不同颜色的标记
                  // console.log("------",params.data[2])
                      var ii=0
                      // var cen=this.centers;
                      // console.log(cen)
                      if (params.data[2]=='0') {
                          return '#fff';
                      } else if(params.data[2]=='1'){
                          return '#00ff00';
                      }else{
                        return 'rgb(17, 74, 180)';
                      }
                  },
                  // color: '#f4e925',
                  shadowBlur: 10,
                  shadowColor: '#333'
              }
            },

          },
          
        ]
      };

      option && myChart.setOption(option);
          },
    echart4(){
      var chartDom = document.getElementById('lefttop');
      var myChart = echarts.init(chartDom);
      var option;
      

      option = {
        title: {
          text: 'Score and gross',
          
          textStyle: {
        fontWeight: 'normal',
        color: '#fff',
    }
      },
        // dataset: this.centers,
        tooltip: {
        trigger:'item',
        formatter:(params) => {  // params就是数据，这里可以打印一下看看
            // return 出去什么，鼠标移入就显示什么,marker就是提示前面蓝色的圆点
            return `${params.data[2]}</br>${params.marker}横坐标:${params.data[0]}</br>纵坐标:${params.data[1]}`
        }
    },
        xAxis: {
          scale: true,
          position: 'top'
        },
        yAxis: {
          scale: true,
          inverse:true

        },
        series: [
          {
            type: 'effectScatter',
            symbolSize: 20,


            data: [
              // [80000, 105.2],
              // [153.4, 42]
            ]
          },
          
          {
            type: 'scatter',
            // prettier-ignore
            label: {
            // show:true,
            position:"right",
            formatter: '{@value}'   // 点旁边显示label，这里使用name: '横坐标'这样写也可以，鼠标移入出现提示。
              },
            data: this.listfp,
            
            itemStyle: {
              normal: {
                  color:function(params){  //根据不同数据显示不同颜色的标记
                  // console.log("------",params.data[2])
                      var ii=0
                      // var cen=this.centers;
                      // console.log(cen)
                      if (params.data[2]=='0') {
                          return '#fff';
                      } else if(params.data[2]=='1'){
                          return '#00ff00';
                      }else{
                        return 'rgb(17, 74, 180)';
                      }
                  },
                  // color: '#f4e925',
                  shadowBlur: 10,
                  shadowColor: '#333'
              }
            },

          },
          
        ]
      };

      option && myChart.setOption(option);
          },
    echart5(){
      var chartDom = document.getElementById('righttop');
      var myChart = echarts.init(chartDom);
      var option;
      

      option = {
        title: {
          text: 'Duration and gross',
          
          textStyle: {
        fontWeight: 'normal',
        color: '#fff',
    }
      },
        // dataset: this.centers,
        tooltip: {
        trigger:'item',
        formatter:(params) => {  // params就是数据，这里可以打印一下看看
            // return 出去什么，鼠标移入就显示什么,marker就是提示前面蓝色的圆点
            return `${params.data[2]}</br>${params.marker}横坐标:${params.data[0]}</br>纵坐标:${params.data[1]}`
        }
    },
        xAxis: {
          scale: true,
          position: 'top'
        },
        yAxis: {
          scale: true,
          inverse:true

        },
        series: [
          {
            type: 'effectScatter',
            symbolSize: 20,


            data: [
              // [80000, 105.2],
              // [153.4, 42]
            ]
          },
          
          {
            type: 'scatter',
            // prettier-ignore
            label: {
            // show:true,
            position:"right",
            formatter: '{@value}'   // 点旁边显示label，这里使用name: '横坐标'这样写也可以，鼠标移入出现提示。
              },
            data: this.listdp,
            
            itemStyle: {
              normal: {
                  color:function(params){  //根据不同数据显示不同颜色的标记
                  // console.log("------",params.data[2])
                      var ii=0
                      // var cen=this.centers;
                      // console.log(cen)
                      if (params.data[2]=='0') {
                          return '#fff';
                      } else if(params.data[2]=='1'){
                          return '#00ff00';
                      }else{
                        return 'rgb(17, 74, 180)';
                      }
                  },
                  // color: '#f4e925',
                  shadowBlur: 10,
                  shadowColor: '#333'
              }
            },

          },
          
        ]
      };

      option && myChart.setOption(option);
          },
    kmeans(){
      this.axios.get("http://127.0.0.1:5000/kmeans",).then(res => {
        if(res.status=200){

          this.listvp=res.data.listvp
          this.listpp=res.data.listpp
          this.listfp=res.data.listfp
          this.listdp=res.data.listdp
          this.listtp=res.data.listtp
          console.log(this.listtp)
          this.echart2()
          // this.echart1()
          this.echart3()
          this.echart4()
          this.echart5()
        }
          



})

    }
},
//生命周期 - 创建完成（可以访问当前 this 实例）
created() {

},
//生命周期 - 挂载完成（可以访问 DOM 元素）
mounted() {
    // this.echart1()
    // this.echart2()
    // this.kmeans()
},
beforeCreate() {}, //生命周期 - 创建之前
beforeMount() {}, //生命周期 - 挂载之前
beforeUpdate() {}, //生命周期 - 更新之前
updated() {}, //生命周期 - 更新之后
beforeDestroy() {}, //生命周期 - 销毁之前
destroyed() {}, //生命周期 - 销毁完成
activated() {}, //如果页面有 keep-alive 缓存功能，这个函数会触发
}
</script>
<style scoped>

/*全局控制栏*/
.body{
    width: 97.9vw;
    height: 100vh;
     background-color: #020712; margin: 0; font-family: "Microsoft YaHei"; font-weight: lighter; background-image: url("../images/Homebodybg.png");
    background-repeat: no-repeat; background-position: center; background-position-y: -120px;
}
a{ text-decoration: none; color: white;}


/*标题*/
.Hometitlebox{ width: 686px; height: 69px; margin: auto; background-image: url("../img/Hometitlebg.png"); background-repeat: no-repeat; background-position: center; text-align: center; font-weight: bold;
    font-size: 18px; line-height: 69px;}

/*动效栏*/
.flasheffectoutbox{ width: 1000px; height: 500px;margin: auto; margin-top: 100px; background-image: url("../images/chain_bg.png"); background-repeat: no-repeat; background-position: center;position: relative}
.circleeffectclass{ border-radius: 50%; border: rgba(0,168,255,0.6) 1px solid; cursor: pointer; position: absolute;}
.effectposition{ position: absolute;}
.acrossremindeffectout{ background-color: rgba(0,126,255,0.05); border-radius: 50%;}

.acrossremindeffectin{ background-color: rgba(0,126,255,0.3); border-radius: 50%; margin: auto;}

.stagetitle{color: #00e4ff; top: 104px; font-size: 14px; font-family: "Microsoft YaHei"; font-weight: lighter; display: block;width: 116px; text-align: center; position: absolute;left: -10%;}
.stagearoundtitle{left: -25%;top:85px;}

.line{position: absolute;transform-origin:left;animation-iteration-count:infinite}
.line2{z-index: 1;left: 330px;top: 183px;width: 0;height: 3px;transform: rotate(21deg);animation: mm2 4s ;
    animation-delay:2s;animation-iteration-count:infinite;
    background-image: url("../images/linght_ef.png");
    background-repeat: no-repeat;
    background-position: 100%;
}
.line3{z-index: 1;left: 262px;top: 351px;width: 0;height: 3px;transform: rotate(-25deg);animation: mm 5s ;
    animation-delay:4s;animation-iteration-count:infinite;
    background-image: url("../images/linght_ef.png");
    background-repeat: no-repeat;
    background-position: 100%;

}
.line4{z-index: 1;left: 638px;top: 141px;width: 0;height: 3px;transform: rotate(-211deg);animation: mm4 3s  ;
    animation-delay:3s;animation-iteration-count:infinite;
    background-image: url("../images/linght_ef.png");
    background-repeat: no-repeat;
    background-position: 100%;
}
.line5{z-index: 1;left: 679px;top: 289px;width: 0;height: 3px;transform: rotate(-172deg);animation: mm5 5s  ;animation-delay:1s;
    animation-iteration-count:infinite;
    background-image: url("../images/linght_ef.png");
    background-repeat: no-repeat;
    background-position: 100%;
}
.line6{z-index: 1;left: 537px;top: 373px;width: 0;height: 3px;transform: rotate(-116deg);animation: mm6 4s  ;animation-delay:0s;
    animation-iteration-count:infinite;
    background-image: url("../images/linght_ef.png");
    background-repeat: no-repeat;
    background-position: 100%;
}

@keyframes mm{
    0%{width: 0}
    100%{width: 194px}
}
@keyframes mm2{
    0%{width: 0}
    100%{width: 113px}
}
@keyframes mm4{
    0%{width: 0}
    100%{width: 140px}
}
@keyframes mm5{
    0%{width: 0}
    100%{width: 158px}
}
@keyframes mm6{
    0%{width: 0}
    100%{width: 94px}
}
/*主动效*/
.maineffectoutbox{border: rgba(0,168,255,0.6) 3px solid; width: 94px; height: 94px;top: 194px;left: 430px;}
.maindataeffect{ animation: scrolleffect 6.5s infinite linear;}
.maindataspecialeffectct{animation: maindataspecialeffect 0.6s forwards;}
@keyframes scrolleffect {
    0%{transfrom: rotate(0deg);}
    25%{transform: rotate(90deg);}
    50%{transform: rotate(180deg);}
    75%{transform: rotate(270deg);}
    100%{transform: rotate(360deg);}
}
@keyframes maindataspecialeffect {
    0%{transform: rotate(0deg);}
    100%{transform: rotate(360deg);}
}

/*卫星动效*/
.aroundfunctioneffect{ width: 76px; height: 76px;}
.acrossremindeffectoutard{width: 60px; height: 60px; margin: 8px;}
.acrossremindeffectinard{width: 54px; height: 54px; margin: 3px;}
.arounddataeffect01{ animation: scrolleffectarround01 linear infinite 4s forwards;}
.arounddataeffect02{ animation: scrolleffectarround01 linear infinite 3.8s forwards;}
.arounddataeffect03{ animation: scrolleffectarround01 linear infinite 4.2s forwards;}

@keyframes scrolleffectarround01 {
    0%{transfrom: rotate(0deg);}
    25%{transform: rotate(-90deg);}
    50%{transform: rotate(-180deg);}
    75%{transform: rotate(-270deg);}
    100%{transform: rotate(-360deg);}
}

/*修饰卫星*/
.decarround01{ width: 37px; height: 37px; cursor: auto;}
.decarroundin01{ width: 33px; height: 33px; margin: 2px;background-color: rgba(0,126,255,0.8);}
.decarroundin01:hover{ background-color: rgba(0,126,255,0.9);}
.decarround02{ width: 27px; height: 27px; cursor: auto;}
.decarroundin02{ width: 23px; height: 23px; margin: 2px;background-color: rgba(0,126,255,0.7);}
.decarroundin02:hover{ background-color: rgba(0, 76, 255, 0.8);}

/*悬浮信息*/

.mbox{
    width: 100%;
    height: 100%;
    background-color:rgba(38, 65, 220, 0.2);

}
.fltoutbox{width: 752px; height: 330px; position: absolute; background-repeat: no-repeat; background-position: center; background-position-y: 0px;}
.leftbox{ left: 2%; top: 6%;}
.leftboxbutton{left: 2%; bottom: 0%; }
.rightbox{ right: 2%; top: 6%; }

.rightboxbutton{ right: 2%; bottom: 0%; }

.fltdecarround{width: 8px;height: 8px; position: absolute;}
.fltdecarroundtop{ top:-1px; border-top: #00a8ff 3px solid;}
.fltdecarroundright{ right:-1px; border-right: #00a8ff 3px solid;}
.fltdecarroundbottom{ bottom:-1px; border-bottom: #00a8ff 3px solid;}
.fltdecarroundleft{ left:-1px; border-left: #00a8ff 3px solid;}




.cs{
  background-color: rgb(243, 243, 243);
}


</style>